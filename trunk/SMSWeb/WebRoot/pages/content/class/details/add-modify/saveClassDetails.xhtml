<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
	<f:view>
		<h:body>
			<ui:include src="applicationStyles.xhtml" />
			<ui:composition template="/pages/layout/commonLayout.xhtml">
				<ui:define name="content">
					<h:form id="classForm">
						<p:growl id="classDetailsGrowl" showDetail="true" />
						<p:panel header="Class Details" styleClass="dialogBodyPanel" id="classDetailPanel" >
						
							<h:panelGrid columns="5"  border="0">
								<h:panelGrid columns="2"  border="0" cellpadding="2px" cellspacing="2px" >
									<h:panelGroup>
										<h:outputText value="*" styleClass="errorValidationText" />
										<h:outputText value="Name and Section:" styleClass="labelText"/>
									</h:panelGroup>
									<h:inputText value="#{classBean.classDTO.name}" styleClass="commonInput" style="width:120px; !important" ajaxSingle="true"
									required="true"/>
								</h:panelGrid>
								
								<h:panelGrid columns="2"  border="0" cellpadding="2px" cellspacing="2px" >
									<h:panelGroup>
										<h:outputText value="*" styleClass="errorValidationText" />
										<h:outputText value="Class Teacher:" styleClass="labelText"/>
									</h:panelGroup>
									<p:selectOneMenu  styleClass="mySelectStyle" converter="#{associateConverter}"	value="#{classBean.classDTO.teacherDTO}" ajaxSingle="true"  >
										<f:selectItems value="#{referenceBean.teacherDTOList}" var="teacherDTO" itemValue="#{teacherDTO}"
										itemLabel="#{teacherDTO.firstName}"/>
									</p:selectOneMenu>	
								</h:panelGrid>
								
								<h:panelGrid columns="2"  border="0" cellpadding="2px" cellspacing="2px" >
									<h:panelGroup>
										<h:outputText value="*" styleClass="errorValidationText" />
										<h:outputText value="Start Year:" styleClass="labelText"/>
									</h:panelGroup>
									<p:selectOneMenu  styleClass="mySelectStyle" value="#{classBean.classDTO.startYear}" ajaxSingle="true"  >
										<f:selectItems value="#{classBean.classYearList}" />
									</p:selectOneMenu>	
								</h:panelGrid>							
								
								<h:panelGrid columns="2"  border="0" cellpadding="10px" cellspacing="10px" >
									<h:panelGroup>
										<h:outputText value="*" styleClass="errorValidationText" />
										<h:outputText value="End Year:" styleClass="labelText"/>
									</h:panelGroup>
									<p:selectOneMenu  styleClass="mySelectStyle" value="#{classBean.classDTO.endYear}" ajaxSingle="true"  >
										<f:selectItems value="#{classBean.classYearList}" />
									</p:selectOneMenu>	
								</h:panelGrid>	
							
							
								<h:panelGrid columns="2"  border="0" cellpadding="10px" cellspacing="10px" >
									<h:outputText/>
									<p:commandButton value="Save"  id="saveBtn"  icon="ui-icon-disk" style="width:100px;height:35px;"  
									update="classDetailsGrowl" 	action="#{classAction.saveClassDetails}"		/>
								</h:panelGrid>	
							</h:panelGrid>
							
							<p:accordionPanel  cache="true" >
								
								<p:tab title="Class Time Table" >
									<p:carousel id="basicCarousel"	value="#{classBean.timeTableBeanList}" var="dayTable" rows="1" >
		    							<f:facet name="header">  
		            						Time Table  
		    							</f:facet>  							
										<p:panel header="#{dayTable.dayOfWeek.name}">
											<p:dataTable var="timeTable" value="#{dayTable.periodList}" width="100%">
												
												<p:column headerText="Period Name" style="width:120px">
													 <h:outputText value="#{timeTable.periodName}" />
												</p:column>										
												<p:column headerText="Subject" style="width:150px">
													<p:selectOneMenu id="subjectName"  styleClass="mySelectStyle" converter="referenceDataConverter" 
													value="#{timeTable.subjectDTO}" ajaxSingle="true"  >
														<f:selectItems value="#{referenceBean.subjectDTOList}" var="subjectDTO" itemValue="#{subjectDTO}" 
														itemLabel="#{subjectDTO.name}"/>
													</p:selectOneMenu>			
												</p:column>
												<p:column headerText="Teacher" style="width:150px">
													<p:selectOneMenu  styleClass="mySelectStyle" converter="#{associateConverter}" 
													value="#{timeTable.teacherDTO}" ajaxSingle="true"  >
														<f:selectItems value="#{referenceBean.teacherDTOList}" var="teacherDTO" itemValue="#{teacherDTO}" 
														itemLabel="#{teacherDTO.firstName}"/>
													</p:selectOneMenu>	
												</p:column>
												<p:column headerText="Start Time" style="width:220px" ajaxSingle="true">
													<p:calendar value="#{timeTable.startTime}" id="startTime" pattern="HH:mm" timeOnly="true" 
													converter="TimeConverter" />
												</p:column>
												<p:column headerText="End Time" style="width:220px">
													<p:calendar value="#{timeTable.endTime}"  id= "endTime" pattern="HH:mm" timeOnly="true" ajaxSingle="true"
													converter="TimeConverter" />
												</p:column>
											</p:dataTable>
										</p:panel>	
									</p:carousel>
								</p:tab>
								
								<p:tab title="Class Subject List">  
									<h:panelGrid id="classSubjectGrid" columns="1" cellpadding="5">
							  	 		<p:pickList id="subjectNameList" value="#{classBean.subjectDTODualListModel}" converter="referenceDataConverter" 
							  	 		var="subject" effect="slide" itemLabel="#{subject.name}" itemValue="#{subject}" ajaxSingle="true" />  
									</h:panelGrid>
								</p:tab>

								<p:tab title="Class Exam List">  
									<h:panelGrid id="classExamGrid" columns="1" cellpadding="5">
							  	 		<p:pickList id="examName" value="#{classBean.examDTODualListModel}" converter="referenceDataConverter" 
							  	 		var="exam" effect="slide" itemLabel="#{exam.name}" itemValue="#{exam}" ajaxSingle="true"/>  
									</h:panelGrid>
								</p:tab>								
								
							</p:accordionPanel>									
						</p:panel>
					</h:form>
				</ui:define>
			</ui:composition>
		</h:body>
	</f:view>
</ui:composition>